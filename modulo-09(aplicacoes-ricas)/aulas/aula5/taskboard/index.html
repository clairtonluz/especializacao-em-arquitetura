<!DOCTYPE html>
<html ng-app="taskboard">
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
</head>
<body ng-controller="EstoriaControle as estoriaCtrl">

<h1>TaskBoard</h1>

<h3>Estórias de Usuários</h3>

<div class="col-lg-5">
    <div class="panel panel-default" ng-repeat="estoria in estoriaCtrl.estorias track by $index">
        <div class="panel panel-heading">
            <b>{{estoria.nome}}</b>

        </div>
        <div class="panel panel-body">
            <div class="pull-right"><b>
                <button class="btn btn-danger" ng-click="estoriaCtrl.fechar($index)">Fechar</button>
                <br/>
                {{estoria.pontuacao}} pontos</b></div>
            <p>{{estoria.descricao}}</p>
            <a ng-click="estoriaCtrl.selecionar(estoria)">Tarefas</a>
            <div ng-repeat="tarefa in estoria.tarefas track by $index">
                {{tarefa.nome}} - {{tarefa.pontuacao}}
            </div>
        </div>
    </div>
</div>


<div class="col-lg-5" ng-show="estoriaCtrl.selecionada">
    <div class="panel panel-default">
        <div class="panel panel-heading">
            <b>{{estoriaCtrl.selecionada.nome}}</b>

        </div>
        <div class="panel panel-body">
            <form ng-controller="TarefaControle as tarefaCtrl"
                  ng-submit="tarefaCtrl.save(estoriaCtrl.selecionada)">
                <div class="col-lg-4">
                    <label>Nome</label>
                </div>
                <div class="col-lg-6">
                    <input name="nome" ng-model="tarefaCtrl.tarefa.nome">
                </div>

                <div class="col-lg-4">
                    <label>Descricao</label>
                </div>
                <div class="col-lg-6">
                    <input name="descricao" ng-model="tarefaCtrl.tarefa.descricao">

                </div>
                <div class="col-lg-4">
                    <label>Pontuação</label>
                </div>
                <div class="col-lg-6">
                    <input name="pontuacao" type="number" ng-model="tarefaCtrl.tarefa.pontuacao">
                </div>
                <div class="col-lg-12">
                    <button type="submit" class="btn btn-success">Adicionar</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="js/angular.min.js"></script>
<script src="js/app.js"></script>
</body>
</html>

